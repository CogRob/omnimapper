<launch>
	 <param name="/use_sim_time" value="true"/> 

  <node name="camera_tracker" pkg="dvo_ros" type="camera_tracker" respawn="false">
  	<remap from="/camera/depth_registered/image_rect_raw" to="/camera/depth/image"/>
	<remap from="/camera/rgb/image_rect" to="/camera/rgb/image_color"/>
	<remap from="/camera/rgb/camera_info" to="/camera/rgb/camera_info"/>
	<remap from="/camera/depth_registered/camera_info" to="/camera/depth/camera_info"/>
	<param name="reconstruction" value="true"/>
	<param name="use_weighting" value="true"/>
	<param name="run_dense_tracking" value="true"/>
	<param name="use_dense_tracking_estimate" value="true"/>
  </node>


  <arg name="bond" value="--no-bond"/>
  <arg name="manager" value="manager"/>
  <node pkg="nodelet" type="nodelet" name="manager"  args="manager" output="screen"/>
  <node pkg="nodelet" type="nodelet" name="point_cloud_conversion" args="load depth_image_proc/point_cloud_xyzrgb $(arg manager) $(arg bond)" output="screen">
       <remap from="rgb/camera_info" to="/camera/rgb/camera_info"/>
     <remap from="rgb/image_rect_color" to="/camera/rgb/image_color"/>
     <remap from="depth_registered/image_rect" to="/camera/depth/image"/>
     <remap from="depth_registered/camera_info" to="/camera/depth/camera_info"/>
     <remap from="depth_registered/points"     to="/camera/depth_registered/points" />
  </node>

      <node name="omnimapper_ros_node" pkg="omnimapper_ros" type="omnimapper_ros_node" respawn="false" output="screen">
      	    <param name="use_planes" value="false"/>
	    <param name="use_icp" value="false"/>
	    <param name="use_occ_edge_icp" value="true"/>
	    <param name="use_tf" value="true"/>
	    <param name="use_error_plugin" value="true"/>
	    <param name="use_tsdf_plugin" value="false"/>
      	    <param name="odom_frame_name" value="/world"/>
	    <param name="base_frame_name" value="/base_link_estimate"/>
	    <param name="use_init_pose" value="true"/>
	    <param name="init_x" value="1.314809"/>
	    <param name="init_y" value="0.847662"/>
	    <param name="init_z" value="1.519455"/>
	    <param name="init_qx" value="0.886385"/>
	    <param name="init_qy" value="0.231053"/>
	    <param name="init_qz" value="-0.089359"/>
	    <param name="init_qw" value="-0.391090"/>
	    <param name="cloud_topic_name" value="/camera/depth_registered/points"/>
	    <param name="icp_leaf_size" value="0.05"/>
	    <param name="icp_max_correspondence_distance" value="0.1"/>
	    <param name="icp_trans_noise" value="10.05"/>
	    <param name="icp_rot_noise" value="10.05"/>
	    <param name="occ_edge_trans_noise" value="0.05"/>
	    <param name="occ_edge_rot_noise" value="0.1"/>
	    <param name="occ_edge_score_thresh" value="0.01"/>
	    <param name="tf_trans_noise" value="10.05"/>
	    <param name="tf_rot_noise" value="10.0872664626"/>
	    <param name="draw_pose_array" value="false"/>
	    <param name="add_pose_per_cloud" value="true"/>
      </node>

       <!-- <node name="base_link_to_base_link_optical" pkg="tf" type="static_transform_publisher" args="0.0 0.0 0.0 -0.5 0.5 -0.5 0.5 /base_link_estimate /base_link_estimate_optical 100" respawn="false" output="screen"/> -->
	<!-- <node name="tf_world" pkg="tf" type="static_transform_publisher" args="0.465 -0.014 0.902 1.57 0 1.57 /odom /world 100" respawn="false" output="screen"/> -->
</launch>